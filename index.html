
<!DOCTYPE html>
<html>

<! http://underscorejs.org/#sample documentation for this library >
<script src ="Underscore.js" type="text/javascript">
</script>

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>Aeon's End Randomizer</title>
	<link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>

<img src = "images/title.jpg" width ="50%">

<p> Which Expansions are you playing with? </p>
<form>
  <input type="checkbox" name="expansions" value="Expansion"> Depths <br>
  <input type="checkbox" name="expansions" value="Stretch"> Nameless <br>
</form>


<p>How would you like to randomize your setup?</p>

<form>
  <input type="radio" name="setup" value="random">Completely Random<br>
  <input type="radio" name="setup" value="one">Market Setup 1<br>
  <input type="radio" name="setup" value="two">Market Setup 2<br>
  <input type="radio" name="setup" value="three">Market Setup 3<br>
  <input type="radio" name="setup" value="four">Market Setup 4<br>
  <input type="radio" name="setup" value="five">Market Setup 5<br>
  <input type="radio" name="setup" value="six">Market Setup 6<br>
</form>

<br>

<form>
<input type="button" onclick="buttonPress()" value="Make Market!">
</form>
  <label>Your Market: </label>
  <p><span id="market"></span></p>
  <p><span id="expo"></span></p>





<script language="JavaScript">

var Card = function(name, cardType, cost, expansion){
	this.name = name;
	this.cardType = cardType;
	this.cost = cost;
	this.expansion = expansion;
	
};

Card.prototype.toString = function(){
	return this.name;
};

cardsGem = [new Card("Jade", 'Gem', 2, 'Base'),new Card("Sifter'sPearl", 'Gem', 3, 'Base'),new Card("V'riswoodAmber", 'Gem', 3, 'Base'),new Card("LeechingAgate", 'Gem', 3, 'Stretch'),new Card("DiamondCluster", 'Gem', 4, 'Base'),new Card("SearingRuby", 'Gem', 4, 'Base'),new Card("BurningOpal", 'Gem', 5, 'Base'),new Card("BanishingTopaz", 'Gem', 5, 'Expansion'),new Card("CloudedSapphire", 'Gem', 6, 'Base')]
cardsSpell = [new Card("PhoenixFlame", 'Spell', 3, 'Base'),new Card("SpectralEcho", 'Spell', 3, 'Base'),new Card("AmplifyVision", 'Spell', 4, 'Base'),new Card("Ignite", 'Spell', 4, 'Base'),new Card("LavaTendril", 'Spell', 4, 'Base'),new Card("VoidBond", 'Spell', 4, 'Expansion'),new Card("Blaze", 'Spell', 4, 'Stretch'),new Card("DarkFire", 'Spell', 5, 'Base'),new Card("EssenceTheft", 'Spell', 5, 'Base'),new Card("FeralLightning", 'Spell', 5, 'Base'),new Card("OblivionSwell", 'Spell', 5, 'Base'),new Card("Combustion", 'Spell', 5, 'Expansion'),new Card("ChaosArc", 'Spell', 6, 'Base'),new Card("PlanarInsight", 'Spell', 6, 'Base'),new Card("WildfireWhip", 'Spell', 6, 'Base'),new Card("DevouringShadow", 'Spell', 6, 'Expansion'),new Card("ScryingBolt", 'Spell', 6, 'Stretch'),new Card("ArcaneNexus", 'Spell', 7, 'Base'),new Card("ConsumingVoid", 'Spell', 7, 'Base'),new Card("DisintegratingScythe", 'Spell', 7, 'Expansion'),new Card("Sage'sBrand", 'Spell', 7, 'Stretch'),new Card("MonstrousInferno", 'Spell', 8, 'Expansion'),new Card("Radiance", 'Spell', 8, 'Stretch')]
cardsRelic = [new Card("FlexingDagger", 'Relic', 2, 'Base'),new Card("BottledVortex", 'Relic', 3, 'Base'),new Card("UnstablePrism", 'Relic', 3, 'Base'),new Card("BlastingStaff", 'Relic', 4, 'Base'),new Card("FocusingOrb", 'Relic', 4, 'Base'),new Card("Transmogrifier", 'Relic', 4, 'Expansion'),new Card("VimDynamo", 'Relic', 4, 'Expansion'),new Card("Mage'sTalisman", 'Relic', 5, 'Base'),new Card("MoltenHammer", 'Relic', 5, 'Stretch'),new Card("TemporalHelix", 'Relic', 7, 'Stretch')]

exps = ["Base", "Expansion", "Stretch"]

pickGems = function(num=3){
	return _.sample(cardsGem,num);
};

pickSpells = function(num=4){
	return _.sample(cardsSpell,num);
};

pickRelics = function(num=2){
	return _.sample(cardsRelic,num);
};

inExp = function(card){
	inExpo = 0;
	for(j = 0; j < exps.length; j++){
		if(card.expansion == exps[j]){
			inExpo = 1;
		}
	}
	return inExpo;
};

function buttonPress() {
	var checkExp = document.forms[0];
	exps = ["Base"];
	for (i = 0; i < checkExp.length; i++) {
        if (checkExp[i].checked) {
            exps.push(checkExp[i].value);
        }
    }
	var fGems = cardsGem.filter(inExp);
	var fRelics = cardsRelic.filter(inExp);
	var fSpells = cardsSpell.filter(inExp);
    var checkSetup = document.forms[1];
    var txt = "";
    for (i = 0; i < checkSetup.length; i++) {
        if (checkSetup[i].checked) {
            txt = txt + checkSetup[i].value + " ";
        }
    }
    document.getElementById("market").innerHTML = "You ordered a market with: " + txt;
	document.getElementById("expo").innerHTML = "You want to use expansions: " + exps+fGems;
	
}

</script>


</body>
</html>